////////////////////////////////////////////
// Import Dependencies
////////////////////////////////////////////
const express = require('express')
const Recipe = require('../models/recipe')
////////////////////////////////////////////
// Create Router
////////////////////////////////////////////
const router = express.Router()

////////////////////////////////////////////
// Routes
////////////////////////////////////////////

router.get('/', (req, res) => {
    res.render('new')
})

router.post('/', (req, res) => {
    Recipe.create(req.body)
    .then((recipies) => {
        res.redirect('/mine')
    })
    .catch((error) => {
        console.log(error);
        res.json({ error });
    })
})

////////////////////////////////////////////
// Export Router
////////////////////////////////////////////
module.exports = router